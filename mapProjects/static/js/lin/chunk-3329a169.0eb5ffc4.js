(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3329a169"],{"06db":function(t,e,n){"use strict";var r=n("23c6"),a={};a[n("2b4c")("toStringTag")]="z",a+""!="[object z]"&&n("2aba")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3b8d":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("795b"),a=n.n(r);function o(t,e,n,r,o,i,c){try{var s=t[i](c),u=s.value}catch(l){return void n(l)}s.done?e(u):a.a.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new a.a(function(r,a){var i=t.apply(e,n);function c(t){o(i,r,a,c,s,"next",t)}function s(t){o(i,r,a,c,s,"throw",t)}c(void 0)})}}},"3f6f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",{attrs:{"dis-hover":!0}},[n("tree-table",{attrs:{"expand-key":"type","expand-type":!1,selectable:!1,columns:t.columns,data:t.val}}),n("Rate",{attrs:{value:1,count:1,character:"此页面仅供参考"}}),n("Button",{staticStyle:{margin:"10px 0 10px 5px"},attrs:{type:"default"},on:{click:t.showAddIops}},[t._v("增加监控点组")]),n("Button",{staticStyle:{margin:"10px 0 10px 5px"},attrs:{type:"error"},on:{click:t.showDeleteIops}},[t._v("删除监控点组")]),t.handleAdd?n("Card",{attrs:{"dis-hover":!0}},[n("Row",[n("i-col",{attrs:{span:"16"}},[n("Form",{staticClass:"form",attrs:{"label-width":120}},[n("FormItem",{attrs:{label:"监测组名称",prop:"name"}},[n("Input",{staticStyle:{width:"auto"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._l(t.items,function(e,r){return n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"item.status"}],key:r,attrs:{label:"配置监测点"}},[n("Row",[n("i-col",{attrs:{span:"9"}},[n("Select",{attrs:{placeholder:"选择机器"},on:{"on-change":function(n){return t.handleClick(e)}},model:{value:e.mac,callback:function(n){t.$set(e,"mac",n)},expression:"item.mac"}},t._l(t.macList,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),n("i-col",{attrs:{span:"9",offset:"1"}},[n("Select",{directives:[{name:"show",rawName:"v-show",value:e.click,expression:"item.click"}],attrs:{multiple:""},model:{value:e.iops,callback:function(n){t.$set(e,"iops",n)},expression:"item.iops"}},t._l(e.iopList,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),n("i-col",{attrs:{span:"4",offset:"1"}},[n("Button",{on:{click:function(e){return t.handleRemove(r)}}},[t._v("删除")])],1)],1)],1)}),n("FormItem",[n("Button",{attrs:{type:"dashed",icon:"md-add"},on:{click:t.handleAddItem}},[t._v("新增机器")])],1),n("Button",{staticStyle:{margin:"10px 0 10px 100px"},attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确认添加")]),n("Button",{staticStyle:{margin:"10px 0 10px 5px"},attrs:{type:"default"},on:{click:t.handleCancel}},[t._v("取消")])],2)],1)],1)],1):t._e(),t.handleDelete?n("Card",{attrs:{"dis-hover":!0}},[n("Form",{staticClass:"form",attrs:{"label-width":160}},[n("FormItem",{attrs:{label:"请选择要删除的监测点组"}},[n("Select",{model:{value:t.deleteId,callback:function(e){t.deleteId=e},expression:"deleteId"}},t._l(t.val,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),n("FormItem",[n("Button",{staticStyle:{margin:"10px 0 10px 5px"},attrs:{type:"primary"},on:{click:t.handleSubmitDelete}},[t._v("确认删除")]),n("Button",{staticStyle:{margin:"10px 0 10px 5px"},attrs:{type:"default"},on:{click:t.handleCancel}},[t._v("取消")])],1)],1)],1):t._e()],1)],1)},a=[],o=(n("6b54"),n("06db"),n("a4bb")),i=n.n(o),c=(n("96cf"),n("3b8d")),s=n("365c"),u=n("f564"),l=n("42c2"),h={data:function(){return{handleAdd:!1,handleDelete:!1,deleteId:"",macList:[],columns:[{title:"名字",key:"name",width:"250px"},{title:"类型",key:"type",minWidth:"50px"}],val:[],name:"",items:[{index:1,mac:"",click:!1,iopList:[],iops:[],status:1}]}},methods:{getIopGroups:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,o,c,u,h,d,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l["f"])();case 3:return e=t.sent,t.next=6,Object(l["f"])();case 6:for(n=t.sent,r=n.data.msg,console.log(e),this.val=[],a=0,o=r.length;a<o;a++)for(this.val.push({id:r[a].iopGroupId,name:r[a].iopGroupName,type:"监测点组",children:[]}),c=0,u=i()(r[a].gwsWithIOPs),h=u.length;c<h;c++)for(this.val[a].children.push({name:u[c],type:"机器",children:[]}),d=0,p=r[a].gwsWithIOPs[u[c]].length;d<p;d++)this.val[a].children[c].children.push({name:r[a].gwsWithIOPs[u[c]][d],type:"监测点"});t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),void 0!==t.t0.response?Object(s["a"])(t.t0.response.status):Object(s["a"])(1);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}(),getMacConfigs:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this,t.prev=1,t.next=4,Object(u["h"])();case 4:for(e=t.sent,console.log(e),n=0,r=e.data.msg.length;n<r;n++)this.macList.push({id:e.data.msg[n].machineId.toString(),name:e.data.msg[n].machineName});t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),void 0!==t.t0.response?Object(s["a"])(t.t0.response.status):Object(s["a"])(1);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),showAddIops:function(){this.handleAdd=!0},showDeleteIops:function(){this.handleDelete=!0},handleSubmit:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this;try{e.$Message.success("此页面仅供参考")}catch(n){void 0!==n.response?Object(s["a"])(n.response.status):Object(s["a"])(1)}this.getIopGroups();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleSubmitDelete:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this;try{this.deleteId,this.$Message.success("此页面仅供参考")}catch(e){void 0!==e.response?Object(s["a"])(e.response.status):Object(s["a"])(1)}this.getIopGroups();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleCancel:function(){this.handleAdd=!1,this.handleDelete=!1,this.items=[{index:1,mac:"",click:!1,iopList:[],iops:[],status:1}],this.macList=[]},handleRemove:function(t){this.items[t].status=0},handleAddItem:function(){this.key++,this.items.push({index:this.key,mac:"",click:!1,iopList:[],iops:[],status:1})},handleClick:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.mac,t.next=4,Object(l["e"])({id:n});case 4:for(r=t.sent,a=r.data.msg,o=0,i=a.length;o<i;o++)e.iopList.push({id:a[o].id,name:a[o].physicalName});e.click=!0,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),void 0!==t.t0.response?Object(s["a"])(t.t0.response.status):Object(s["a"])(1);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));function e(e){return t.apply(this,arguments)}return e}()},beforeMount:function(){this.getIopGroups(),this.getMacConfigs()}},d=h,p=n("2877"),f=Object(p["a"])(d,r,a,!1,null,"35ff254b",null);e["default"]=f.exports},"42c2":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return c}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"e",function(){return d});n("7f7f");var r=n("66df"),a=function(t){var e=t.macId,n=t.gwId,a=(t.iop,t.name),o=t.minRange,i=t.maxRange,c=t.aline,s=t.computedWay;return r["a"].request({url:"gwIopMappingConfig/add",data:{machineId:e,gwId:n,physicalName:a,minLC:o,maxLC:i,aline:c,method:s},method:"post"})},o=function(t){var e=t.id,n=t.gwId,a=t.macId,o=(t.name,t.minRange),i=t.maxRange,c=t.aline,s=t.computedWay;return r["a"].request({url:"gwIopMappingConfig/mod",data:{configId:e,machineId:a,gwId:n,minLC:o,maxLC:i,aline:c,method:s},method:"put"})},i=function(t){var e=t.id;return r["a"].request({url:"gwIopMappingConfig/del",method:"delete",data:{configId:e}})},c=function(t){return r["a"].request({url:"/gwIopMappingConfig/gwIopMappingConfigs",method:"post",data:{sendPage:t}})},s=function(){return r["a"].request({url:"/gwIop/gateways/notUsed",method:"get"})},u=function(t){var e=t.gw;return r["a"].request({url:"/gwIop/iops/notUsed/"+e,method:"get"})},l=function(){return r["a"].request({url:"/iopGroup/iopGroups",method:"get"})},h=function(t){var e=t.id;return r["a"].request({url:"/iopGroup/iops/"+e,method:"get"})},d=function(t){var e=t.id;return r["a"].request({url:"machineIdIOP/get",method:"post",data:{machineId:e}})}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),a=n("0bfb"),o=n("9e1e"),i="toString",c=/./[i],s=function(t){n("2aba")(RegExp.prototype,i,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?a.call(t):void 0)}):c.name!=i&&s(function(){return c.call(this)})},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=L(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",f={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(R([])));b&&b!==n&&r.call(b,o)&&(y=b);var x=g.prototype=m.prototype=Object.create(y);function I(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){function e(n,a,o,i){var c=u(t[n],t,a);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,i)},function(t){e("throw",t,o,i)}):Promise.resolve(l).then(function(t){s.value=t,o(s)},function(t){return e("throw",t,o,i)})}i(c.arg)}var n;function a(t,r){function a(){return new Promise(function(n,a){e(t,r,n,a)})}return n=n?n.then(a,a):a()}this._invoke=a}function L(t,e,n){var r=l;return function(a,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw o;return S()}n.method=a,n.arg=o;while(1){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=u(t,e,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function R(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){while(++a<t.length)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:S}}function S(){return{value:e,done:!0}}return v.prototype=x.constructor=g,g.constructor=v,g[c]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},I(k.prototype),k.prototype[i]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,a){var o=new k(s(e,n,r,a));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},I(x),x[c]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},f564:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"g",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"h",function(){return h});n("7f7f");var r=n("66df"),a=function(t){var e=t.name,n=t.detail;return r["a"].request({url:"/machType/add",data:{machTypeName:e,machTypeDesc:n},method:"post"})},o=function(t){var e=t.id,n=t.name,a=t.detail;return r["a"].request({url:"/machType/mode",data:{machTypeId:e,machTypeName:n,machTypeDesc:a},method:"post"})},i=function(t){var e=t.id;return r["a"].request({url:"/machType/del",data:{machTypeId:e},method:"post"})},c=function(t){return r["a"].request({url:"/machType/machTypes",method:"post",data:{sendPage:t}})},s=function(t){var e=t.name,n=t.code,a=t.desc,o=t.date,i=t.customer,c=t.office;return r["a"].request({url:"machine/add",data:{machineName:e,machTypeId:n,machineDesc:a,dateOfProduct:o,customerId:i,office:c},method:"post"})},u=function(t){var e=t.name,n=t.id,a=t.code,o=t.desc,i=t.date,c=t.customer,s=t.office;return r["a"].request({url:"machine/mode",data:{machineId:n,machineName:e,machTypeId:a,machineDesc:o,dateOfProduct:i,customerId:c,office:s},method:"put"})},l=function(t){var e=t.id;return r["a"].request({url:"machine/del",method:"delete",data:{machineId:e}})},h=function(t){return r["a"].request({url:"/machine/machines",method:"post",data:{sendPage:t}})}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15391003"],{"39c0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",{staticClass:"headerCard",attrs:{"dis-hover":!0}},[a("Form",{staticStyle:{"font-weight":"bold"},attrs:{"label-width":80}},[a("Rate",{staticStyle:{"margin-left":"60px"},attrs:{value:1,count:1,character:"直接点击查询即可，后台保存了2019/4/12 18:00 ~ 19:00的数据"}}),a("Rate",{staticStyle:{"margin-left":"60px"},attrs:{value:1,count:1,character:"可选中第一个图表的任意一点返回前后半个小时数据"}}),a("Rate",{staticStyle:{"margin-left":"60px"},attrs:{value:1,count:1,character:"可选中第二个图表的任意一点返回前后15分钟数据"}}),a("FormItem",{attrs:{label:"机器编号"}},[a("Select",{attrs:{placeholder:"请输入机器名称","label-in-value":"",filterable:""},on:{"on-change":e.getPhysicName},model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}},e._l(e.machineLists,function(t){return a("Option",{key:t.machineId,attrs:{value:t.machineId}},[e._v(e._s(t.machineName))])}),1)],1),e.searchForm.id?a("FormItem",{attrs:{label:"查询类型"}},[a("Select",{attrs:{filterable:""},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},e._l(e.physicalNameLists,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.physicalName))])}),1)],1):e._e(),a("FormItem",{attrs:{label:"日期区间"}},[a("Row",[a("i-col",{attrs:{span:"12"}},[a("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择日期...","v-model":e.searchForm.fdate},on:{"on-change":e.changeFdate}})],1),a("i-col",{attrs:{span:"12"}},[a("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择日期...","v-model":e.searchForm.ldate},on:{"on-change":e.changeLdate}})],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("查询")])],1)],1)],1),a("Card",{staticStyle:{margin:"10px"},attrs:{"dis-hover":!0}},[a("Row",[a("i-col",{attrs:{span:"24"}},[a("div",{style:{width:"1000px",height:"450px",margin:"auto"},attrs:{id:"record"}})])],1),a("Row",[a("i-col",{attrs:{span:"24"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.recordChild,expression:"recordChild"}],style:{width:"1000px",height:"450px",margin:"auto"},attrs:{id:"recordChild"}})])],1),a("Row",[a("i-col",{attrs:{span:"24"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.recordChildChild,expression:"recordChildChild"}],style:{width:"1000px",height:"450px",margin:"auto"},attrs:{id:"recordChildChild"}})])],1)],1)],1)},s=[],i=(a("7f7f"),a("c5f6"),a("774e")),n=a.n(i),c=a("db0c"),o=a.n(c),d=a("a4bb"),l=a.n(d),h=(a("96cf"),a("3b8d")),u=a("94b0"),m=a("42c2"),p=a("f564");a("365c");function f(e){var t=new Date(e),a=t.getFullYear()+"-",r=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",s=t.getDate()+" ",i=t.getHours()+":",n=t.getMinutes()+":",c=t.getSeconds();return a+r+s+i+n+c}var g={data:function(){return{spinShow:!1,chartsName:"",machineLists:[],physicalNameLists:[],recordChild:!1,recordChildChild:!1,xList:[],yList:[],recordc:[],recordChildc:[],recordChildChildc:[],searchForm:{id:"",type:"",fdate:"",ldate:""}}},methods:{handleGetEquipment:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p["h"])();case 3:for(t=e.sent,a=0;a<t.data.msg.length;a++)this.machineLists.push(t.data.msg[a]);e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),getPhysicName:function(e){this.searchForm.type="",this.chartsName=e.label,this.handleGetIopConfigs(e.value)},handleGetIopConfigs:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(t){var a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=this,this.physicalNameLists=[],e.prev=2,e.next=5,Object(m["e"])({id:t});case 5:for(r=e.sent,s=0;s<r.data.msg.length;s++)a.physicalNameLists.push(r.data.msg[s]);e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));function t(t){return e.apply(this,arguments)}return t}(),changeFdate:function(e){this.searchForm.fdate=e,this.searchForm.fdate=Date.parse(new Date(this.searchForm.fdate))},changeLdate:function(e){this.searchForm.ldate=e,this.searchForm.ldate=Date.parse(new Date(this.searchForm.ldate))},initCharts:function(){var e=this.$echarts.init(document.getElementById("record"));e.setOption({title:{text:"数据/小时"},tooltip:{trigger:"axis"},xAxis:{data:[1,2,3]},yAxis:{splitLine:{show:!1}},toolbox:{left:"center",feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{startValue:"2014-06-01"},{type:"inside"}],visualMap:{top:10,right:10,pieces:[{gt:0,lte:10,color:"#096"},{gt:10,lte:50,color:"#ffde33"},{gt:50,lte:100,color:"#ff9933"},{gt:100,lte:300,color:"#cc0033"},{gt:300,lte:500,color:"#660099"},{gt:500,color:"#7e0023"}],outOfRange:{color:"#999"}},series:{name:"",type:"line",data:[],markLine:{silent:!0,data:[{yAxis:10},{yAxis:50},{yAxis:100},{yAxis:300},{yAxis:500}]}}})},handleSubmit:function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.recordChild=!1,t.recordChildChild=!1,t.recordc=[],t.recordChildc=[],t.recordChildChildc=[],e.prev=6,a={},a["gwsWithIOPs"]={},a["gwsWithIOPs"][t.searchForm.id]=[t.searchForm.type],a["timeLeft"]=t.searchForm.fdate,a["timeRight"]=t.searchForm.ldate,a["count"]=1e3,e.next=15,Object(u["c"])({sendJson:a});case 15:r=e.sent,console.log(r),null===r.data.msg.records&&t.initCharts(),0===l()(r.data.msg.records).length&&t.$Message.error("查询失败！当前区间没有数据"),l()(r.data.msg.records).length>0&&(t.$Message.success("查询成功！正在为您加载数据"),t.xList=l()(r.data.msg.records),t.yList=o()(r.data.msg.records),t.xList=n()(t.xList,function(e){return f(Number(e))}),s=t.$echarts.init(document.getElementById("record")),s.clear(),s.setOption({title:{text:"数据/小时"},tooltip:{trigger:"axis"},xAxis:{data:t.xList},yAxis:{splitLine:{show:!1}},toolbox:{left:"center",feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{startValue:"2014-06-01"},{type:"inside"}],series:{name:"",type:"line",data:t.yList,markLine:{silent:!0}}}),s.off("dblclick"),s.on("dblclick",function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(a){var r,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={},r["gwsWithIOPs"]={},r["gwsWithIOPs"][t.searchForm.id]=[t.searchForm.type],r["timeLeft"]=Date.parse(new Date(a.data.xAxis))-18e5,r["timeRight"]=Date.parse(new Date(a.data.xAxis))+18e5,r["count"]=1e3,t.recordChildc=[],t.recordChildChild=!1,s=t.$echarts.init(document.getElementById("recordChild")),e.next=11,Object(u["d"])({sendJson:r});case 11:i=e.sent,console.log(i),0===l()(i.data.msg.records).length&&t.$Message.error("查询失败！当前区间没有数据"),l()(i.data.msg.records).length>0&&(t.xList=l()(i.data.msg.records),t.yList=o()(i.data.msg.records),t.xList=n()(t.xList,function(e){return f(Number(e))}),t.$Message.success("查询成功！正在为您加载数据"),t.recordChild=!0,s.clear(),s.setOption({title:{text:"数据/分钟"},tooltip:{trigger:"axis"},xAxis:{data:t.xList},yAxis:{splitLine:{show:!1}},toolbox:{left:"center",feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{startValue:"2014-06-01"},{type:"inside"}],series:{name:"",type:"line",data:t.yList,markLine:{silent:!0}}}),s.off("dblclick"),s.on("dblclick",function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(a){var r,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.recordChildChildc=[],r=t.$echarts.init(document.getElementById("recordChildChild")),s={},s["gwsWithIOPs"]={},s["gwsWithIOPs"][t.searchForm.id]=[t.searchForm.type],s["timeLeft"]=Date.parse(new Date(a.data.xAxis))-9e5,s["timeRight"]=Date.parse(new Date(a.data.xAxis))+9e5,s["count"]=1e3,e.next=10,Object(u["e"])({sendJson:s});case 10:i=e.sent,console.log(i),0===l()(i.data.msg.records).length&&t.$Message.error("查询失败！当前区间没有数据"),l()(i.data.msg.records).length>0&&(t.xList=l()(i.data.msg.records),t.yList=o()(i.data.msg.records),t.xList=n()(t.xList,function(e){return f(Number(e))}),t.$Message.success("查询成功！正在为您加载数据"),t.recordChildChild=!0,r.clear(),r.setOption({title:{text:"数据/秒"},tooltip:{trigger:"axis"},xAxis:{data:t.xList},yAxis:{splitLine:{show:!1}},toolbox:{left:"center",feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{startValue:"2014-06-01"},{type:"inside"}],series:{name:"",type:"line",data:t.yList,markLine:{silent:!0}}}),r.off("click"),r.on("click",function(e){t.recordChildChildc.push({value:e.data,xAxis:e.name,yAxis:e.data}),r.setOption({series:[{markPoint:{data:t.recordChildChildc}}]})}));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s.off("click"),s.on("click",function(e){t.recordChildc.push({value:e.data,xAxis:e.name,yAxis:e.data}),s.setOption({series:[{markPoint:{data:t.recordChildc}}]})}));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s.off("click"),s.on("click",function(e){t.recordc.push({value:e.data,xAxis:e.name,yAxis:e.data}),s.setOption({series:[{markPoint:{data:t.recordc}}]})})),e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](6),t.$Message.error("查询失败！当前区间没有数据"),t.initCharts();case 26:case"end":return e.stop()}},e,this,[[6,22]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.handleGetEquipment()},mounted:function(){this.initCharts()}},x=g,y=a("2877"),v=Object(y["a"])(x,r,s,!1,null,null,null);t["default"]=v.exports},f564:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"c",function(){return i}),a.d(t,"e",function(){return n}),a.d(t,"g",function(){return c}),a.d(t,"b",function(){return o}),a.d(t,"d",function(){return d}),a.d(t,"f",function(){return l}),a.d(t,"h",function(){return h});a("7f7f");var r=a("66df"),s=function(e){var t=e.name,a=e.detail;return r["a"].request({url:"/machType/add",data:{machTypeName:t,machTypeDesc:a},method:"post"})},i=function(e){var t=e.id,a=e.name,s=e.detail;return r["a"].request({url:"/machType/mode",data:{machTypeId:t,machTypeName:a,machTypeDesc:s},method:"post"})},n=function(e){var t=e.id;return r["a"].request({url:"/machType/del",data:{machTypeId:t},method:"post"})},c=function(e){return r["a"].request({url:"/machType/machTypes",method:"post",data:{sendPage:e}})},o=function(e){var t=e.name,a=e.code,s=e.desc,i=e.date,n=e.customer,c=e.office;return r["a"].request({url:"machine/add",data:{machineName:t,machTypeId:a,machineDesc:s,dateOfProduct:i,customerId:n,office:c},method:"post"})},d=function(e){var t=e.name,a=e.id,s=e.code,i=e.desc,n=e.date,c=e.customer,o=e.office;return r["a"].request({url:"machine/mode",data:{machineId:a,machineName:t,machTypeId:s,machineDesc:i,dateOfProduct:n,customerId:c,office:o},method:"put"})},l=function(e){var t=e.id;return r["a"].request({url:"machine/del",method:"delete",data:{machineId:t}})},h=function(e){return r["a"].request({url:"/machine/machines",method:"post",data:{sendPage:e}})}}}]);